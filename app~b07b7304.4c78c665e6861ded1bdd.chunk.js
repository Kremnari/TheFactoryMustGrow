(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+Aae":function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t("mUjK"),o=t("EfK0"),a=t("MJ0g"),i=t("++kE"),u=t("ztCj"),c={icon:new r.a,item:new o.b,rec:new a.a,rounder:i.a,DS:null,idb:{set:u.f,get:u.d,del:u.c,clear:u.b,list:u.e}}},"Kh/G":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t("7jDb"),o={inv:{items:[]},workshop:{entities:[]}};r.a.provide_CCC("player.inventoryPush",(function(e,n){e.which.itemStack.count>0&&n.data.entity[e.which.itemStack.name]&&n.addNewObject(e.to.entities,"player.entity",{name:e.which.itemStack.name})&&(e.which.itemStack.count--,n.view.signaler.signal("addedEntity"))}),{which:"itemStack",to:"entities"})},main:function(e,n,t){"use strict";t.d(n,"configure",(function(){return o}));t("ls82"),t("SYky");var r=t("BEPO");t("70NS");function o(e){e.use.standardConfiguration().plugin("aurelia-animator-css").plugin("aurelia-dialog").feature("resources/index"),e.use.developmentLogging(r.a?"debug":"warn"),r.b&&e.use.plugin("aurelia-testing"),e.start().then((function(){e.setRoot("app")}))}window.debugIf=function(e,n){e.$$_debug&&e.$$_debug.includes(n)},window.debugCheck=function(e,n){!e.$$_debug&&(e.$$_debug=[]),e.$$_debug.push(n)},Object.walkPath=function(e,n){for(var t=(n=(n=n.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0,o=t.length;r<o;++r){var a=t[r];isObject(e)&&a in e?e=e[a]:Error("Couldn't walk the path completely")}return e}},uH5N:function(e,n,t){"use strict";var r=t("7jDb");function o(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}
//! I don't think these will work under all circumstances,
function i(e,n,t){if(t){for(var r,a=-1,i=4,u=o(e.entries());!(r=u()).done;){var c=r.value,l=c[0],s=c[1];i>3&&!s&&(i=3,a=l),i>2&&s&&0==s.count&&(i=2,a=l),i>1&&s&&s.name==n&&s.count<t&&(i=1,a=l)}return 2==i&&(e[a].icon=null),a}var m=e.slice().reverse().findIndex((function(e){return e&&e.name==n&&e.count>0}));return-1==m?-1:e.length-1-m}function u(e,n,t,r){if("string"==typeof e&&e.includes("id")&&(e=r.getId(e).items),e.items&&(e=e.items),n.name){t.count=0;for(var a,i=o(e);!(a=i()).done;){var u=a.value;u&&u.name==n.name&&(t.count+=u.count)}t._result=t.count}else if(n.names)for(var c,l=o(e);!(c=l()).done;){var s=c.value;s&&n.names.indexOf(s.name)>-1&&(t[s.name]?t[s.name]+=s.count:t[s.name]=s.count)}}r.a.addOperation("inventory.add",(function(e,n,t,r){
//! needs to handle a multiplier from args
var a=n.itemStacks;Array.isArray(a)||(a=[a]);for(var u,c=[],l=0,s=o(a);!(u=s()).done;){var m=u.value;if(!m.count&&m.amount&&(m.count=m.amount),0!=m.count){var d=m.count*(n.multi||1);l=e.stackSize||r.data.item[m.name].stack_size;for(var f=i(e.items,m.name,l);f>-1&&d>0;){if(void 0===e.items[f]){var v=Math.min(l,d);e.items[f]={name:m.name,count:v},d-=v}else{var p=Math.min(l-e.items[f].count,d);d-=p,e.items[f].name=m.name,e.items[f].count+=p}d&&(f=i(e.items,m.name,l))}d>0&&(
//! Theoretically, this would be the case of all existing inventory
//!   is different than the item or full
!e.maxStacks||e.items.length<e.maxStacks?e.items.push({name:m.name,count:d}):c.push({name:m.name,count:d}))}}t.part=c,t.complete=0==c.length})),r.a.addOperation("inventory.consume",(function(e,n,t,r){var a=n.itemStacks;Array.isArray(a)||(a=[a]);for(var u,c=[],l=o(a);!(u=l()).done;){var s=u.value;!s.count&&s.amount&&(s.count=s.amount);for(var m=i(e.items,s.name),d=s.count*(n.multi||1);m>-1&&d;){var f=Math.min(e.items[m].count,d);e.items[m].count-=f,d-=f,m=i(e.items,s.name)}if(c.push({name:s.name,count:s.count*(n.multi||1)-d}),d&&!n.partial)
//! we have failed to consume all
return r.processTEMP(e,"inventory.add",{itemStacks:c}),t._result=!1,t}t._result=n.partial&&c||!0})),r.a.addOperation("inventory.total",u),r.a.addUtility_CCC("inventory.total",u)},wb4v:function(e,n,t){"use strict";t("+Aae");var r=t("EfK0"),o=t("0d46");function a(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}o.b.provide("invXfer",(function(e){var n=e.from,t=e.to,o=e.options;if((null==o?void 0:o.debug)&&(console.log("debug:"),console.log(n),console.log(t),console.log(o)),0!=(null==o?void 0:o.maxXfer)){var i="entity"==(null==o?void 0:o.toAs)?"recieveItem":"addStack",u=0,c=function(e){(null==o?void 0:o.debug)&&console.log(e);var a=t[i](e);return(null==o?void 0:o.debug)&&console.log(a),a&&n.consumeAll(new r.a(e.name,a)),null==o||o.debug,a},l=(null==o?void 0:o.maxXfer)?function(e){return Math.min(e,o.maxXfer-u)}:function(e){return e};if(null==o?void 0:o.stacks)for(var s,m=a(o.stacks);!(s=m()).done;){c(s.value)}else for(var d,f=a(n.items);!(d=f()).done;){var v=d.value;if(v&&v.name&&0!=v.count&&((!(null==o?void 0:o.types)||o.types.includes(v.name))&&(u+=c({name:v.name,count:l(v.count)}),(null==o?void 0:o.debug)&&console.log("accum: "+u),(null==o?void 0:o.maxXfer)&&o.maxXfer==u)))return}}})),o.b.provide("invUse",(function(e){switch(e.how){case"sub-n-crement":0===e.from.consume(e.what,e.count)&&(e.to_prop?e.to[e.to_prop]+=e.count:e.to+=e.count)}}))}}]);
//# sourceMappingURL=app~b07b7304.4c78c665e6861ded1bdd.bundle.map