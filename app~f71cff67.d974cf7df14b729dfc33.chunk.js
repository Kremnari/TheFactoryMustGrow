(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{app:function(e,n,i){"use strict";i.r(n),i.d(n,"App",(function(){return C}));var t,r,a,s,o,c,l=i("aurelia-templating-resources"),d=i("aurelia-framework"),u=i("8p7n"),h=i("uShe"),p=i("3Qvj"),f=i("Evr9"),m=(i("463H"),i("0d46"));function g(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function b(e,n,i,t,r,a,s){try{var o=e[a](s),c=o.value}catch(e){return void i(e)}o.done?n(c):Promise.resolve(c).then(t,r)}function w(e){return function(){var n=this,i=arguments;return new Promise((function(t,r){var a=e.apply(n,i);function s(e){b(a,t,r,s,o,"next",e)}function o(e){b(a,t,r,s,o,"throw",e)}s(void 0)}))}}function k(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var y,P,B,I,E,x,C=(t=Object(d.d)(l.a,h.a,p.a,d.b),r=Object(d.e)({changeHandler:"whenCheck"}),t((c=function(){function e(e,n,i,t){var r,a,s,c,l=this;r=this,a="viewPane",c=this,(s=o)&&Object.defineProperty(r,a,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(c):void 0}),this.dataBase={},this.viewRecCat=!1,this.tooltip=null,window.tfmg=this,this.signaler=e,n.onLoadComplete((function(e){l.init(e,i)})),n.beginLoad(),this.CC=m.a,this.saveGame=n.saveGame,t.expressionObserver(this,"viewPane.main").subscribe((function(e,n){l.whenCheck(e,n,"main")})),t.expressionObserver(this,"viewPane.entityPane").subscribe((function(e,n){l.whenCheck(e,n,"entityPane")}))}var n,i,t,r=e.prototype;return r.init=function(){var e=w(regeneratorRuntime.mark((function e(n,i){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mgrs=n.mgrs,this.mgrs.DS=i,this.mgrs.baseApp=this,this.mgrs.signaler=this.signaler,n.save&&"0.02"==n.save.version)for(this.player=u.b.deserialize(this.mgrs,n.save.player),this.facBlocks=[],t=g(n.save.facBlocks);!(r=t()).done;)a=r.value,this.facBlocks.push(u.a.deserialize(a));else this.facBlocks=[],this.player=new u.b(20),this.mgrs.signaler.signal("generalUpdate"),f.a.start();return this.mgrs.rec.set_player(this.player),this.mgrs.rec.sub_ticker(this.mgrs.Ticker),this.select_FacBlock(this.player,!0),e.next=10,this.mgrs.idb.get("dev");case 10:this.showDev=e.sent,this.showDev||this.mgrs.Ticker.toggle();case 12:case"end":return e.stop()}}),e,this)})));return function(n,i){return e.apply(this,arguments)}}(),r.vrcToggle=function(e){this.viewRecCat=this.viewRecCat!=e&&e},r.resetSave=function(){this.saveGame()},r.showing=function(e,n){var i=this;this.viewPane.showingItem&&(this.viewPane.showingItem.selectedClass="");var t=this.viewPane.showingItem;this.viewPane.showingItem=null,this.viewPane.showingCat="",e&&t!=e&&window.setTimeout((function(){e.selectedClass="selected",i.viewPane.showingItem=e,i.viewPane.showingCat=n}),0)},r.add_FacBlock=function(e,n){if(!(n=n||prompt("Enter Block Name")))return!1;var i=new u.a(e,n);return this.facBlocks.push(i),i},r.select_FacBlock=function(e,n){void 0===n&&(n=!1),this.showItem=null,this.viewPane.facBlock=e,this.viewPlayer=n},r.when=function(e,n){this.whenTarg={targ:e,cb:n},console.log("whenSet")},r.whenCheck=function(e,n,i){this.whenTarg&&(this.whenTarg.targ.entityPane&&this.viewPane.entityPane!=this.whenTarg.targ.entityPane||this.whenTarg.targ.main&&this.viewPane.main!=this.whenTarg.targ.main||(this.whenTarg.cb(),this.whenTarg=void 0))},r.save=function(){var e=w(regeneratorRuntime.mark((function e(){var n,i,t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n={player:{}},console.log("saving..."),n.version="0.02",n.techs=this.mgrs.tech.serialize(),n.player=this.player.serialize(),n.facBlocks=[],i=g(this.facBlocks);!(t=i()).done;)r=t.value,n.facBlocks.push(r.serialize());this.saveGame(n),console.log("...done");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.jumpStart=function(){this.player.inv.add("burner-mining-drill",2),this.player.inv.add("assembling-machine-1",2),this.player.inv.add("lab",2),this.player.inv.add("automation-science-pack",200)},r.testing=function(){this.player2=new u.b(10),this.add_FacBlock("resource","iron-mine"),this.facBlocks[0].lines[0].AddEntity("burner-mining-drill"),this.facBlocks[0].lines[0].AddEntity("burner-mining-drill"),this.facBlocks[0].lines[0].SetEntityFn(this.mgrs.res.resList["iron-ore"]),this.add_FacBlock("factory","iron-plates"),this.facBlocks[1].lines[0].AddEntity("stone-furnace"),this.facBlocks[1].lines[0].AddEntity("stone-furnace"),this.facBlocks[1].lines[0].SetEntityFn(this.mgrs.rec.recipeList["iron-plate"]),this.add_FacBlock("resource","copper-mine"),this.facBlocks[2].lines[0].AddEntity("burner-mining-drill"),this.facBlocks[2].lines[0].AddEntity("burner-mining-drill"),this.facBlocks[2].lines[0].SetEntityFn(this.mgrs.res.resList["copper-ore"]),this.add_FacBlock("factory","copper-plates"),this.facBlocks[3].lines[0].AddEntity("stone-furnace"),this.facBlocks[3].lines[0].AddEntity("stone-furnace"),this.facBlocks[3].lines[0].SetEntityFn(this.mgrs.rec.recipeList["copper-plate"]),this.add_FacBlock("bus","plates"),this.facBlocks[0].AddBusDrain(this.facBlocks[1]),this.facBlocks[1].AddBusDrain(this.facBlocks[4]),this.facBlocks[2].AddBusDrain(this.facBlocks[3]),this.facBlocks[3].AddBusDrain(this.facBlocks[4]),this.player.inv.add("inserter",10)},r.iconEditor=function(){var e=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("iconEditor"!=this.viewPane){e.next=3;break}return this.viewPane={main:"home",showingItem:null},e.abrupt("return");case 3:return this.viewPane="iconEditor",this.IE={ds:{old:{},new:{}},select:{}},e.next=7,this.mgrs.idb.get("Icons");case 7:if(e.t0=e.sent,e.t0){e.next=12;break}return e.next=11,this.mgrs.idb.get("dataSet");case 11:e.t0=e.sent.icons;case 12:return this.IE.ds.new=e.t0,e.next=15,this.mgrs.idb.get("oldIcons");case 15:if(this.IE.ds.old=e.sent,e.t1=this.IE.ds.old,e.t1){e.next=23;break}return e.next=20,this.mgrs.idb.set("oldIcons",this.IE.ds.new);case 20:if(e.t2=e.sent,!e.t2){e.next=23;break}this.IE.ds.old=this.IE.ds.new;case 23:this.signaler.signal("update");case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.IEshow=function(){this.IE.showOld=this.IE.ds.old[this.IE.select.Cat][this.IE.select.Icon],this.IE.showNew=this.IE.ds.new[this.IE.select.Cat][this.IE.select.Icon],this.signaler.signal("update")},r.IEfiled=function(){var e=w(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=w(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new FileReader,e.abrupt("return",new Promise((function(e){i.onload=function(){e(i.result)},i.readAsDataURL(n)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.next=3,n(this.IE.file[0]);case 3:this.IE.fileBlob=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.IEStore=function(){this.IE.ds.new[this.IE.select.Cat][this.IE.select.Icon]=this.IE.fileBlob},r.saveIconEditor=function(){var e=w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mgrs.idb.set("Icons",this.IE.ds.new);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.dlIconEditor=function(){var e=document.createElement("a");e.download="icons.json",e.href="data:application/octet-stream:base64,"+JSON.stringify(this.IE.ds.new),e.style="display:none",document.body.appendChild(e),e.click()},r.ulIconEditor=function(){var e=w(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.IE.upload){e.next=2;break}return e.abrupt("return");case 2:return n=function(){var e=w(regeneratorRuntime.mark((function e(n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new FileReader,e.abrupt("return",new Promise((function(e){i.onload=function(){e(i.result)},i.readAsText(n)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.t0=JSON,e.next=6,n(this.IE.upload[0]);case 6:e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1),this.mgrs.idb.set("Icons",i),console.log("loaded");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n=e,(i=[{key:"showItem",set:function(e){var n=this;this.viewPane.showingItem&&(this.viewPane.showingItem.selectedClass="");var i=this.viewPane.showingItem;this.viewPane.showingItem=null,this.viewPane.showingCat="",e&&i!=e.item&&window.setTimeout((function(){e.item.selectedClass="selected",n.viewPane.showingItem=e.item,n.viewPane.showingCat=e.cat}),0)}}])&&k(n.prototype,i),t&&k(n,t),e}(),y=(s=c).prototype,P="viewPane",B=[r],I={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{main:"home",entityPane:"",showingItem:null}}},x={},Object.keys(I).forEach((function(e){x[e]=I[e]})),x.enumerable=!!x.enumerable,x.configurable=!!x.configurable,("value"in x||x.initializer)&&(x.writable=!0),x=B.slice().reverse().reduce((function(e,n){return n(y,P,e)||e}),x),E&&void 0!==x.initializer&&(x.value=x.initializer?x.initializer.call(E):void 0,x.initializer=void 0),void 0===x.initializer&&(Object.defineProperty(y,P,x),x=null),o=x,a=s))||a)},"app.html":function(e,n,i){e.exports='<template>\n  <require from="bootstrap/dist/css/bootstrap.min.css"></require>\n  <require from="@fortawesome/fontawesome-free/css/all.min.css"></require>\n  <require from="./styles.scss"></require>\n  <require from="./tfmg.scss"></require>\n\n  <header id="selector">\n    <div id="devControls" if.bind="showDev">\n      <button click.delegate="save()">Save</button>\n      <button click.delegate="resetSave()">Start Anew</button>\n      <button click.delegate="mgrs.Ticker.once()">Tick 1</button>\n      <button click.delegate="mgrs.Ticker.toggle()">${mgrs.Ticker.isRunning ? "Pause" : "Resume"}</button>\n      <button click.delegate="testing()">Testing...</button>\n      <button click.delegate="iconEditor()">Edit Icons</button>\n    </div>\n    <div id="playerControls">\n      <h4 click.delegate="viewPane.main = \'home\'">Home</h4>\n      <h4 click.delegate="viewPane.main = \'entities\'">Machina</h4>\n      <h4 click.delegate="viewPane.main = \'facBlocks\'">Blocks</h4>\n      <h4 click.delegate="viewPane.main = \'research\'">Research</h4>\n    </div>\n    <div id="facBlockControls" show.bind="viewPane.facBlock==player">\n      <div show.bind="viewPane.main == \'entities\'">\n        <h5 click.delegate="viewPane.entityPane = \'mining\'">Mining</h5>\n        <h5 click.delegate="viewPane.entityPane = \'manuf\'">Manufacturing</h5>\n        <h5 click.delegate="viewPane.entityPane = \'labs\'">Labs</h5>\n      </div>\n    </div>\n    <require from="resources/elements/tool-tip"></require>\n    <tool-tip display.bind="tooltip" item-mgr.bind="mgrs.item" recipe-mgr.bind="mgrs.rec"></tool-tip>\n  </header>\n  <div id="mainView" if.bind="viewPane!=\'iconEditor\'">\n    <article>\n      <section id="recipes" show.bind="viewPane.main == \'home\'">\n        <h3>Crafting categories</h3>\n        <div>\n          <h4>Hand Craft</h4>\n          <div class="overflow">\n            <icon-base\n              repeat.for="rec of mgrs.rec.recipes_by_cats[\'crafting\']  | objectValues "\n              item.bind="rec"\n              title = "${rec.name}"\n              click.delegate="mgrs.rec.startCraft(rec, player.inv, \' \')"\n              show.bind="rec.enabled"\n              class.bind="rec.classesStr"\n              anim_class.bind="rec.style"\n              mouseenter.trigger="tooltip = rec"\n              mouseleave.trigger="tooltip = null"\n            ></icon-base>\n          </div>\n        </div>\n      </section>\n      <section id="resources" show.bind="viewPane.main == \'home\'">\n        <h3>Mineables</h3>\n        <icon-base repeat.for="res of mgrs.res.resList | canMine | objectValues" item.bind="res" click.delegate="mgrs.res.mine(res.name, player.inv)"\n                  class="${res.mining ? \'mining\': null}" anim_style.bind="res.miningStyle"></icon-base> \n      </section>\n      <section id="technologies"  show.bind="viewPane.main == \'research\'">\n        <h3>Research</h3>\n        <require from="./resources/elements/byModule/tech-infopane.html"></require>\n        <tech-infopane if.bind="viewPane.showingCat==\'tech\'" tech.bind="viewPane.showingItem" tech-mgr.bind="mgrs.tech" tooltip.bind="tooltip"></tech-infopane>\n        <div class="overflow">\n          <icon-base repeat.for="tech of mgrs.tech.shownTechs & signal:\'techUpdate\'" click.delegate="showItem = {item: tech, cat: \'tech\'}"\n                      item.bind="tech" count.bind="tech.prerequisites.length"\n                      class="${mgrs.tech.researching==tech ? \'researching\' : \'\'} ${tech.researched ? \'researched\': \'\'} ${viewPane.showingItem==tech ? \'selected\': \'\'}"\n          >\n          </icon-base>\n        </div>\n        <div>\n          <h5>Filters</h5>\n          <p>Filter Complete<button click.delegate="mgrs.tech.toggleFilter(\'complete\')">${mgrs.tech.filters.ShowComplete? "Hide":"Show"}</button></p>\n          <p>Filter Pack:\n            <span repeat.for="pack of mgrs.tech.filters.ShowPack | objectEntries & signal:\'techUpdate\'"\n              class="${pack[1]? \'selected\':\'\'}" click.delegate="mgrs.tech.toggleFilter(\'byPack\', pack[0])"\n              >\n              <img src.bind="mgrs.icon.getSrc(\'item\', pack[0])" height="16px">\n            </span>\n          </p>\n        </div>\n      </section>\n      <section id="facBlocks" show.bind="viewPane.main == \'facBlocks\'">\n        <h3>Factory Blocks</h3>\n        <div click.delegate="select_FacBlock(player, true)" class=\'${viewPane.facBlock==player ? "selected":""}\'>player</div>\n        <div repeat.for="facBlock of facBlocks" click.delegate="select_FacBlock(facBlock)" class=\'${viewPane.facBlock==facBlock ? "selected":""}\'>\n          ${facBlock.name}:${facBlock.type}\n        </div>\n        <div>\n          <span class="button" click.delegate="add_FacBlock(\'factory\')">Add Factory Block</span>\n          <span class="button" click.delegate="add_FacBlock(\'bus\')">Add Bus Block</span>\n          <span class="button" click.delegate="add_FacBlock(\'resource\')">Add Resource Block</span>\n          <span class="button" click.delegate="add_FacBlock(\'research\')">Add Lab Block</span>\n        </div>\n      </section>\n      <section id="machines" if.bind="viewPane.main == \'entities\' && viewPlayer">\n        <div show.bind="viewPane.entityPane == \'mining\'">\n          <h4>Mining</h4>\n          <require from="./resources/elements/byModule/mining-infopane.html"></require>\n          <mining-infopane if.bind="viewPane.showingCat==\'miner\'" miner.bind="viewPane.showingItem" actor.bind="player" res-mgr.bind="mgrs.res" rounder.bind="rounder"></mining-infopane>\n          <div class="entityList">\n            <icon-base repeat.for="miner of viewPane.facBlock.getEntities(\'mining\') & signal:\'addedEntity\'" item.bind="miner" alt-image.bind="miner.mining.icon"\n                      click.delegate="showing(miner, \'miner\')" class.bind="miner.selectedClass"></icon-base>\n          </div>\n        </div>\n        <div show.bind="viewPane.entityPane == \'manuf\'">\n          <h4>Manufacturing</h4>\n          <require from="./resources/elements/byModule/crafting-infopane.html"></require>\n          <crafting-infopane if.bind="viewPane.showingCat==\'crafter\'" crafter.bind="viewPane.showingItem" rec-mgr.bind="mgrs.rec" item-mgr.bind="mgrs.item" actor.bind="player" inventory.bind="viewPane.facBlock.inv" rounder.bind="rounder"></crafting-infopane>\n          <div class="entityList">\n            <icon-base\n              repeat.for="crafter of viewPane.facBlock.getEntities(\'crafting\') & signal:\'addedEntity\'"\n              item.bind="crafter"\n              title.bind="crafter.name"\n              alt-image.bind="crafter.recipe.icon"\n              click.delegate="showing(crafter, \'crafter\')"\n              class.bind="crafter.selectedClass"\n            ></icon-base>\n          </div>\n        </div>\n        <div show.bind="viewPane.entityPane == \'labs\'">\n          <h4>Labs</h4>\n          <require from="./resources/elements/byModule/lab-infopane.html"></require>\n          <lab-infopane if.bind="viewPane.showingCat==\'labs\'" lab.bind="viewPane.showingItem" item-mgr.bind="mgrs.item" rounder.bind="rounder"></lab-infopane>\n          <div class="entityList">\n            <icon-base repeat.for="labee of viewPane.facBlock.getEntities(\'lab\') & signal:\'addedEntity\'" item.bind="labee" click.delegate="showing(labee, \'labs\')" class.bind="labee.selectedClass"></icon-base>\n          </div>\n        </div>\n      </section>\n      <section if.bind="viewPane.main == \'entities\' && !viewPlayer">\n        <require from="resources/elements/factoryBlocks/transportLine.html" as="transport-line"></require>\n        <require from="resources/elements/factoryBlocks/entityLine" as="entity-line"></require>\n        <require from="resources/elements/factoryBlocks/TransportLineUpgrades.html" as="tlu"></require>\n        Block Name: ${viewPane.facBlock.name}\n        <div if.bind="viewPane.facBlock.inputLine">\n          <p>\n            Feed From: ${viewPane.facBlock.feeds[0].name}\n            <span click.delegate="viewPane.facBlock.SelectBusFeed()">(Change)</span>\n          </p>\n          <transport-line\n            if.bind="viewPane.facBlock.inputLine"\n            line.bind="viewPane.facBlock.inputLine"\n            inv-click.call="CC.InvXFer(inv, player.inv, {stacks: [item]})"\n            type="input"\n          ></transport-line>\n          <tlu \n            upgrades.bind="viewPane.facBlock.upgrades.input"\n            apply-upgrade.call="viewPane.facBlock.ApplyUpgrade({\n              upgrade\n              ,inv: player.inv\n              ,line: viewPane.facBlock.inputLine\n            })"\n          ></tlu>\n          <hr>\n        </div>\n        <div repeat.for="line of viewPane.facBlock.lines">\n          <transport-line\n            if.bind="line.items"\n            line.bind="line"\n            type="internal"\n          ></transport-line>\n          <entity-line\n            if.bind="line.entities"\n            line.bind="line"\n          ></entity-line>\n        </div>\n        <div if.bind="viewPane.facBlock.outputLine">\n          <hr>\n          <p>\n            Drains To: ${viewPane.facBlock.drains[0].name}\n            <span click.delegate="viewPane.facBlock.SelectBusDrain()">(Change)</span>\n          </p>\n          <tlu\n            upgrades.bind="viewPane.facBlock.upgrades.output"\n            apply-upgrade.call="viewPane.facBlock.ApplyUpgrade({\n              upgrade\n              ,inv: player.inv\n              ,line: viewPane.facBlock.outputLine\n            })"\n          ></tlu>\n          <transport-line\n            if.bind="viewPane.facBlock.outputLine"\n            line.bind="viewPane.facBlock.outputLine"\n            inv-click.call="CC.InvXFer(inv, player.inv, {stacks: [item]})"\n            type="output"\n          ></transport-line>\n        </div>\n      </section>\n    </article>\n  </div>\n  <div id="iconEditor" if.bind="viewPane==\'iconEditor\'">\n    <select value.bind="IE.select.Cat">\n      <option repeat.for="cat of IE.ds.old | objectKeys & signal:\'update\'" model.bind="cat">${cat}</option>\n    </select>\n    <select value.bind="IE.select.Icon">\n      <option repeat.for="icon of IE.ds.old[IE.select.Cat] | objectKeys & signal:\'update\'" model.bind="icon">${icon}</option>\n    </select>\n    <button click.delegate="IEshow()">Show</button><br>\n    <figcaption class="inline">Old</figcaption>\n    <img src.bind="IE.showOld & signal:\'update\'" height="64px" width="64px"/>\n    <img src.bind="IE.showNew & signal:\'update\'" height="64px" width="64px"/>\n    <figcaption class="inline">New</figcaption><br>\n    <input type="file" files.bind="IE.file" accept="image/*" change.delegate="IEfiled()">Select replace</input>\n    <img src.bind="IE.fileBlob"></img><br>\n    <button click.delegate="IEStore()">Store</button>\n    <button click.delegate="saveIconEditor()">SaveDB</button><br>\n    <button click.delegate="dlIconEditor()">Download</button>\n    <input type="file" name="name" files.bind="IE.upload" style="display:none" id="IconFileSelect" accept=".json" change.delegate="ulIconEditor()">\n    <button onclick="document.getElementById(\'IconFileSelect\').click();">Upload</button>\n  </div>\n  <section id="inventoryList">\n    <h3>Inventory</h3>\n    <inventory\n      items.bind="player.inv.items"\n      click-call.call="player.inv.click({\n         where:viewPane.facBlock, which: item\n        ,who: player, what:\'use\'\n        })"\n      ></inventory>\n  </section>\n  <div id="tutorial">\n    <div id="tut_pos" class="center">\n      <span id="tut_text"></span>\n      <button id="tut_button" class="center"></button>\n    </div>\n  </div>\n  <section id="numSelectors">\n    <input type="checkbox" id="numSelToggle" style="display:none">\n    <label for="numSelToggle">Rounder&nbsp<span class="tabOnly">${mgrs.rounder.huns}${mgrs.rounder.tens}${mgrs.rounder.ones}</span>\n    </label>\n    <input id="huns" type="range" min="0" max="9" step="1" value.bind="mgrs.rounder.huns">\n    <input id="tens" type="range" min="0" max="9" step="1" value.bind="mgrs.rounder.tens">\n    <input id="ones" type="range" min="0" max="9" step="1" value.bind="mgrs.rounder.ones">\n    <span>${mgrs.rounder.huns}${mgrs.rounder.tens}${mgrs.rounder.ones}</span>\n    <label class="switch"><input type="checkbox" value.bind="mgrs.rounder.abs"><span class="slider text_abs_mod"></span></label>\n    <label class="switch"><input type="checkbox" value.bind="mgrs.rounder.fail"><span class="slider text_full_part"></span></label>\n  </section>\n  <section id="tagFilter">\n    <input id="drawer-toggle" type="checkbox" />\n    <label for="drawer-toggle" id="drawer-toggle-label">\n      <span>Filters</span>\n    </label>\n    <div id="drawer">\n      More Data!\n    </div> \n  </section>\n</template>\n'},wb4v:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));i("+Aae");var t=i("EfK0");function r(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return a(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function s(e,n,i){if((null==i?void 0:i.debug)&&(console.log("debug:"),console.log(e),console.log(n),console.log(i)),0!=(null==i?void 0:i.maxXfer)){var a="entity"==(null==i?void 0:i.toAs)?"recieveItem":"addStack",s=0,o=function(r){(null==i?void 0:i.debug)&&console.log(r);var s=n[a](r);return(null==i?void 0:i.debug)&&console.log(s),s&&e.consumeAll(new t.b(r.name,s)),null==i||i.debug,s},c=(null==i?void 0:i.maxXfer)?function(e){return Math.min(e,i.maxXfer-s)}:function(e){return e};if(null==i?void 0:i.stacks)for(var l,d=r(i.stacks);!(l=d()).done;){o(l.value)}else for(var u,h=r(e.items);!(u=h()).done;){var p=u.value;if(p&&p.name&&0!=p.count&&((!(null==i?void 0:i.types)||i.types.includes(p.name))&&(s+=o({name:p.name,count:c(p.count)}),(null==i?void 0:i.debug)&&console.log("accum: "+s),(null==i?void 0:i.maxXfer)&&i.maxXfer==s)))return}}}i("0d46").a.InvXFer=s,globalThis.InvXFer=s}}]);
//# sourceMappingURL=app~f71cff67.d974cf7df14b729dfc33.bundle.map