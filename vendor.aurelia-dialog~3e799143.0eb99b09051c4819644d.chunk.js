(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"P/zd":function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return u})),t.d(n,"d",(function(){return c})),t.d(n,"e",(function(){return i}));var r=function(){function e(){}return e.prototype.getDialogContainer=function(){throw new Error("DialogRenderer must implement getDialogContainer().")},e.prototype.showDialog=function(e){throw new Error("DialogRenderer must implement showDialog().")},e.prototype.hideDialog=function(e){throw new Error("DialogRenderer must implement hideDialog().")},e}();function o(e){var n=new Error("Operation cancelled.");return n.wasCancelled=!0,n.output=e,n}function i(e){var n=new Error;return n.wasCancelled=!1,n.output=e,n}function u(e,n,t){return"function"==typeof e[n]?new Promise((function(r){r(e[n](t))})).then((function(e){return null==e||e})):Promise.resolve(!0)}var c=function(){function e(e,n,t,r){this.resolve=t,this.reject=r,this.settings=n,this.renderer=e}return e.prototype.releaseResources=function(e){var n=this;return u(this.controller.viewModel||{},"deactivate",e).then((function(){return n.renderer.hideDialog(n)})).then((function(){n.controller.unbind()}))},e.prototype.cancelOperation=function(){if(!this.settings.rejectOnCancel)return{wasCancelled:!0};throw o()},e.prototype.ok=function(e){return this.close(!0,e)},e.prototype.cancel=function(e){return this.close(!1,e)},e.prototype.error=function(e){var n=this,t=i(e);return this.releaseResources(t).then((function(){n.reject(t)}))},e.prototype.close=function(e,n){var t=this;if(this.closePromise)return this.closePromise;var r={wasCancelled:!e,output:n};return this.closePromise=u(this.controller.viewModel||{},"canDeactivate",r).catch((function(e){return t.closePromise=void 0,Promise.reject(e)})).then((function(i){return i?t.releaseResources(r).then((function(){return!t.settings.rejectOnCancel||e?t.resolve(r):t.reject(o(n)),{wasCancelled:!1}})).catch((function(e){return t.closePromise=void 0,Promise.reject(e)})):(t.closePromise=void 0,t.cancelOperation())}))},e.inject=[r],e}()},"aurelia-dialog":function(e,n,t){"use strict";t.r(n),t.d(n,"DefaultDialogSettings",(function(){return c})),t.d(n,"DialogConfiguration",(function(){return f})),t.d(n,"DialogService",(function(){return d})),t.d(n,"configure",(function(){return g}));var r=t("P/zd");t.d(n,"DialogController",(function(){return r.d})),t.d(n,"Renderer",(function(){return r.a})),t.d(n,"createDialogCancelError",(function(){return r.b})),t.d(n,"createDialogCloseError",(function(){return r.e}));var o=t("70NS"),i=t("3U8n"),u=t("hij8"),c=function(){this.lock=!0,this.startingZIndex=1e3,this.centerHorizontalOnly=!1,this.rejectOnCancel=!1,this.ignoreTransitions=!1,this.restoreFocus=function(e){return e.focus()}},s={ux:function(){return t.e(0).then(t.bind(null,"yfWE")).then((function(e){return e.DialogRenderer}))},native:function(){return t.e(0).then(t.bind(null,"MzFQ")).then((function(e){return e.NativeDialogRenderer}))}},l={"ux-dialog":function(){return t.e(0).then(t.bind(null,"mbV6")).then((function(e){return e.UxDialog}))},"ux-dialog-header":function(){return t.e(0).then(t.bind(null,"kAWR")).then((function(e){return e.UxDialogHeader}))},"ux-dialog-body":function(){return t.e(0).then(t.bind(null,"K1pw")).then((function(e){return e.UxDialogBody}))},"ux-dialog-footer":function(){return t.e(0).then(t.bind(null,"It9J")).then((function(e){return e.UxDialogFooter}))},"attach-focus":function(){return t.e(0).then(t.bind(null,"e1DJ")).then((function(e){return e.AttachFocus}))}},a=function(){return t.e(0).then(t.bind(null,"em5G")).then((function(e){return e.default}))},f=function(){function e(e,n){var t=this;this.renderer="ux",this.cssText=a,this.resources=[],this.fwConfig=e,this.settings=e.container.get(c),n((function(){return t._apply()}))}return e.prototype._apply=function(){var e=this,n=this.renderer,t=this.cssText;return Promise.all(["string"==typeof n?s[n]():n,t?"string"==typeof t?t:t():""]).then((function(n){var t=n[0],i=n[1],u=e.fwConfig;return u.transient(r.a,t),i&&o.b.injectStyles(i),Promise.all(e.resources.map((function(e){return l[e]()}))).then((function(e){u.globalResources(e)}))}))},e.prototype.useDefaults=function(){return this.useRenderer("ux").useCSS(a).useStandardResources()},e.prototype.useStandardResources=function(){return Object.keys(l).forEach(this.useResource,this),this},e.prototype.useResource=function(e){return this.resources.push(e),this},e.prototype.useRenderer=function(e,n){return this.renderer=e,n&&Object.assign(this.settings,n),this},e.prototype.useCSS=function(e){return this.cssText=e,this},e}();function h(e,n){return this.then((function(e){return e.wasCancelled?e:e.closeResult})).then(e,n)}var d=function(){function e(e,n,t){this.controllers=[],this.hasOpenDialog=!1,this.hasActiveDialog=!1,this.container=e,this.compositionEngine=n,this.defaultSettings=t}return e.prototype.validateSettings=function(e){if(!e.viewModel&&!e.view)throw new Error('Invalid Dialog Settings. You must provide "viewModel", "view" or both.')},e.prototype.createCompositionContext=function(e,n,t){return{container:e.parent,childContainer:e,bindingContext:null,viewResources:null,model:t.model,view:t.view,viewModel:t.viewModel,viewSlot:new u.p(n,!0),host:n}},e.prototype.ensureViewModel=function(e){return"object"==typeof e.viewModel?Promise.resolve(e):this.compositionEngine.ensureViewModel(e)},e.prototype._cancelOperation=function(e){if(!e)return{wasCancelled:!0};throw Object(r.b)()},e.prototype.composeAndShowDialog=function(e,n){var t=this;return e.viewModel||(e.bindingContext={controller:n}),this.compositionEngine.compose(e).then((function(e){return n.controller=e,n.renderer.showDialog(n).then((function(){t.controllers.push(n),t.hasActiveDialog=t.hasOpenDialog=!!t.controllers.length}),(function(n){return e.viewModel&&Object(r.c)(e.viewModel,"deactivate"),Promise.reject(n)}))}))},e.prototype.createSettings=function(e){return"boolean"==typeof(e=Object.assign({},this.defaultSettings,e)).keyboard||e.keyboard||(e.keyboard=!e.lock),"boolean"!=typeof e.overlayDismiss&&(e.overlayDismiss=!e.lock),Object.defineProperty(e,"rejectOnCancel",{writable:!1,configurable:!0,enumerable:!0}),this.validateSettings(e),e},e.prototype.open=function(e){var n=this;void 0===e&&(e={});var t,o,i=(e=this.createSettings(e)).childContainer||this.container.createChild(),u=new Promise((function(e,n){t=e,o=n})),c=i.invoke(r.d,[e,t,o]);i.registerInstance(r.d,c),u.then((function(){p(n,c)}),(function(){p(n,c)}));var s,l=this.createCompositionContext(i,c.renderer.getDialogContainer(),c.settings),a=this.ensureViewModel(l).then((function(e){return!e.viewModel||Object(r.c)(e.viewModel,"canActivate",c.settings.model)})).then((function(e){return e?n.composeAndShowDialog(l,c).then((function(){return{controller:c,closeResult:u,wasCancelled:!1}})):n._cancelOperation(c.settings.rejectOnCancel)}));return(s=a).whenClosed=h,s},e.prototype.closeAll=function(){return Promise.all(this.controllers.slice(0).map((function(e){return e.settings.rejectOnCancel?e.cancel().then((function(){return null})).catch((function(n){if(n.wasCancelled)return e;throw n})):e.cancel().then((function(n){return n.wasCancelled?e:null}))}))).then((function(e){return e.filter((function(e){return!!e}))}))},e.inject=[i.a,u.e,c],e}();function p(e,n){var t=e.controllers.indexOf(n);-1!==t&&(e.controllers.splice(t,1),e.hasActiveDialog=e.hasOpenDialog=!!e.controllers.length)}function g(e,n){var t=null,r=new f(e,(function(e){t=e}));return"function"==typeof n?n(r):r.useDefaults(),t()}}}]);
//# sourceMappingURL=vendor.aurelia-dialog~3e799143.0eb99b09051c4819644d.bundle.map