(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{0:function(t,e,n){n("GAND"),n("GmYv"),t.exports=n("b9nV")},"0d46":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));n("+Aae");function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}var o,s,u={repo:{},sigs:{},valids:{},runner:null,utilityFns:{}},c={provide:function(t,e,n,r){u.repo[t]=e,n&&(u.sigs[t]=n),r&&(u.valids[t]=r)},setRunner:function(t){u.runner=t},utilityFn:function(t,e){u.utilityFns[t]=e},initialize:function(t){u.dialogSvc=t.dialogSvc,u.dataSet=t.dataSet}},l={statics:{},issue:(o=regeneratorRuntime.mark((function t(e,n,a){var i,o,s,c,f,d,m,b,p,v,g,x,w,y,C,h,S,k,O,T,F,j,A,G,P,_,I,N;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.repo[e]){t.next=3;break}return console.warn("nothing for: "+e),t.abrupt("return");case 3:if(!u.sigs[e]){t.next=85;break}i={},o=[],debugIf(u,"caller_start"),s=0,c=Object.entries(u.sigs[e]);case 8:if(!(s<c.length)){t.next=77;break}f=c[s],d=f[0],m=f[1],b={},d.indexOf(".")>-1&&(
//! For some bizarre reason, destructuring wasn't working here
p=d.split("."),b=m,m=p[1],d=p[0]),!Array.isArray(m)&&(m=[m]),v=r(m);case 14:if((g=v()).done){t.next=74;break}//! The above used to be condensed, but it negated possible nulls
if(S=g.value,k=void 0,O=d+"."+S,"string"!=S&&n&&void 0!==n[O]?
//! Weirdness, chrome stopped accepting the shorthand of this if
k=n[O]:(null==a||null==(x=a.CCC[d])?void 0:x[S])?k=null==a||null==(w=a.CCC[d])?void 0:w[S]:(null==(y=l.statics[d])?void 0:y[S])&&(k=null==(C=l.statics[d])?void 0:C[S]),void 0!==k){t.next=70;break}if(!n||!n[S+".dialog"]){t.next=29;break}return t.next=23,u.dialogSvc.open("SelectX",u.utilityFns[S](n[S+".dialog"],u.runner),S);case 23:if((k=t.sent)&&(k.item||(null==(T=b)?void 0:T.optional))){t.next=26;break}return t.abrupt("return");case 26:k=k.item,t.next=70;break;case 29:if(!n||!n["$_"+S+"Xlist"]){t.next=38;break}return t.next=32,u.dialogSvc.open("SelectX",{list:n["$_"+S+"Xlist"],type:S});case 32:if((k=t.sent)&&(k.item||(null==(F=b)?void 0:F.optional))){t.next=35;break}return t.abrupt("return");case 35:k=(null==(j=k.item)?void 0:j.name)||k.item,t.next=70;break;case 38:if("recipe"!=S){t.next=47;break}return t.next=41,u.dialogSvc.open("SelectX",{list:Object.values(u.dataSet.recipe),type:S});case 41:if((k=t.sent)||(null==(A=b)?void 0:A.optional)){t.next=44;break}return t.abrupt("return");case 44:k=null==(G=k.item)?void 0:G.name,t.next=70;break;case 47:if("building"!=S){t.next=56;break}return t.next=50,u.dialogSvc.open("SelectX",{list:Object.values(u.dataSet.entity).filter((function(t){return"crafter"==t.subType})),type:S});case 50:if((k=t.sent)||(null==(P=b)?void 0:P.optional)){t.next=53;break}return t.abrupt("return");case 53:k=k.item,t.next=70;break;case 56:if("string"!=S){t.next=62;break}if((k=prompt("Enter "+d+":"))||(null==(_=b)?void 0:_.optional)){t.next=60;break}return t.abrupt("return");case 60:t.next=70;break;case 62:if("icon"!=S){t.next=70;break}return N=Object.keys(u.dataSet.item),t.next=66,u.dialogSvc.open("SelectX",{list:N,type:"icon"});case 66:if((k=t.sent)||(null==(I=b)?void 0:I.optional)){t.next=69;break}return t.abrupt("return");case 69:k=k.item;case 70:debugIf(u,"caller_found"),void 0!==k?(!i[d]&&(i[d]={}),i[d][S]=k):(null==(h=b)?void 0:h.optional)||o.push(d+"."+S);case 72:t.next=14;break;case 74:s++,t.next=8;break;case 77:if(!(o.length>0)){t.next=82;break}return console.warn("missing args for "+e+": "),console.warn(o),t.abrupt("return");case 82:u.valids[e]&&u.valids[e](i,u.runner),u.repo[e](i,u.runner,u.repo[e]),t.next=86;break;case 85:u.repo[e](n,null==a?void 0:a.CCC);case 86:case"end":return t.stop()}}),t)})),s=function(){var t=this,e=arguments;return new Promise((function(n,r){var a=o.apply(t,e);function s(t){i(a,n,r,s,u,"next",t)}function u(t){i(a,n,r,s,u,"throw",t)}s(void 0)}))},function(t,e,n){return s.apply(this,arguments)}),provide:function(t,e,n,r){t.CCC||(t.CCC={}),t.CCC[e]||(t.CCC[e]={}),t.CCC[e][n]=r},utilityFn:function(t,e,n){var r={};return u.utilityFns[t](e,n,r,u.runner),"_result"in r?r._result:r},staticProvide:function(t,e,n){l.statics[t]||(l.statics[t]={}),l.statics[t][e]=n}};window.CCC=u},"463H":function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=30,a=60*r*5,i="0.03",o="22102021"},"6juG":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var r=n("EVdn"),a=n.n(r),i={GameObjects:{tagged:{},base:{}},GameObjectFromPointer:function(t){console.warn("GOFP");var e=t.split("@"),n=e[0],r=e[1];return r?i.GameObjects.tagged[r][n]():i.GameObjects.base[t]()},SetModalBox:function(t){i.modalSelector=document.querySelector(t)},classFns:{},viewFns:{}},o={AddGameObjectClass:function(t,e,n){var r=JSON.stringify(e);n.category?(i.GameObjects.tagged[n.category]||(i.GameObjects.tagged[n.category]={}),i.GameObjects.tagged[n.category][t]=function(){return JSON.parse(r)}):i.GameObjects.base[t]=function(){return JSON.parse(r)}},setClassFn:function(t,e){i.classFns[t]=e},setViewFn:function(t,e){i.viewFns[t]=e},setViewFnGetter:function(t,e){Object.defineProperty(i.viewFns,t,{get:e})}},s={app:null,signal:null,toasts:[],toastTimer:NaN,error:function(t){a()("#ChameleonModal").show(),a()("#ChameleonMessage").removeClass().addClass("error").text(t),a()("#ChameleonButton").removeClass().addClass(["btn","btn-error"]).on("click",(function(){a()("#ChameleonModal").hide()}))},errorToast:function(t,e,n){void 0===n&&(n="fa-exclamation-triangle");var r={class:"danger-bg",msg:t,icon:e,fa:n,timer:400,_alert:s.showAlert};s.toasts.push(r),s.toastTimerSet()},warnToast:function(t,e,n){void 0===n&&(n="fa-exclamation");var r={class:"warning-bg",msg:t,icon:e,fa:n,timer:100,_alert:s.showAlert};s.toasts.push(r),s.toastTimerSet()},goodToast:function(t,e,n){void 0===n&&(n="fa-thumbs-up");var r={class:"primary-bg",msg:t,icon:e,fa:n,timer:400,_alert:s.showAlert};s.toasts.push(r),s.toastTimerSet()},toast:function(t,e,n){void 0===n&&(n="fa-question");var r={class:"light-bg"};r.msg=t,r.icon=e,r.fa=n,r.timer=200,r._alert=s.showAlert,s.toasts.push(r),s.toastTimerSet()},showAlert:function(t){alert(t.msg),s.clearToast(t)},clearToast:function(t){var e=s.toasts.findIndex((function(e){return e==t}));s.toasts.splice(e,1),window.clearInterval(s.toastTimer.timeout),s.toastTimer=null,s.toasts.length>0&&s.toastTimerSet()},toastTimerSet:function(){s.toastTimer||(s.toastTimer={ticks:0},s.toastTimer.timeout=window.setInterval((function(){s.toastTimer.ticks>=100?s.clearToast(s.toasts[0]):s.toastTimer.ticks+=1}),50*s.toasts[0].timer/100))},animsUpdate:function(t,e,n){t.animClass=e,t.animTime="animation-duration: "+n+"s",s.signaler.signal("animsUpdate")},test:function(t){console.log(t)},clearShowing:function(){s.app.viewPane.showingItem=null},GameObjectFromPointer:i.GameObjectFromPointer,classFn:i.classFns,viewFn:i.viewFns}},BEPO:function(t){t.exports=JSON.parse('{"a":false,"b":false}')}}]);
//# sourceMappingURL=app~f075b844.98e38b7dad52c6c2e44f.bundle.map