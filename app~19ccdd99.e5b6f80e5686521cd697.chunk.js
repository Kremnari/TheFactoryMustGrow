(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"++kE":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var s={ones:1,tens:0,huns:0,abs:!1,fail:!1,get val(){return 100*this.huns+10*this.tens+this.ones},calc_val:function(t){return Math.min(this.val,t)},calc:function(t,e,n){return Math.min(this.val,Math.min(n,e-t))}}},"59E+":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s,i=n("aurelia-framework"),r=n("aurelia-event-aggregator"),a=n("+Aae"),c=Object(i.d)(r.a)(s=function(){function t(t){this.techList={},this.shownTechs=[],this.visFilters=[],this.filters={ShowComplete:!0,ShowPack:{"automation-science-pack":!0,"logistic-science-pack":!1,"military-science-pack":!1,"chemical-science-pack":!1,"production-science-pack":!1,"utility-science-pack":!1,"space-science-pack":!1}},this.researching=null,this.events=t}var e=t.prototype;return e.import=function(t,e){var n=this;this.recipeMgr=a.a.rec,Object.entries(t).forEach((function(t){var s=t[0],i=t[1],r=new o(i,null==e?void 0:e[s]);n.techList[s]=r})),this.applyFilter("prereqs",{count:0}),this.applyFilter("byPack",{pack:"automation-science-pack"}),this.updateVisible(),a.a.Ticker.DataProvider((function(t){n.TickerProvider(t)}))},e.serialize=function(){for(var t={},e=0,n=Object.values(this.techList);e<n.length;e++){var s=n[e];if(s.researched||s.completeUnits){var i={name:s.name,type:s.type,researched:s.researched,completeUnits:s.completeUnits};t[s.name]=i}}return t},e.TickerProvider=function(t){t.entities||(t.entities={}),t.entities.types||(t.entities.types=[]),this.researching&&t.entities.types.push("lab"),t.mgrs||(t.mgrs={}),t.mgrs.tech=this},e.select_research=function(t){this.researching=t,this.nextIngredients=this.researching.cost.ingredients},e.cancel_research=function(){this.researching=null,this.nextIngredients=null},e.increment_research=function(){this.researching.completeUnits++,this.researching.completeUnits==this.researching.cost.count&&this.complete_research()},e.complete_research=function(){this.researching.researched=!0,this.researching.unlocks.forEach((function(t){return a.a.rec.recipeList[t]&&(a.a.rec.recipeList[t].enabled=!0)})),this.researching=null,this.nextIngredients=null,this.updateVisible()},e.applyFilter=function(t,e){return this.visFilters.push({type:t,args:e})-1},e.hasFilter=function(t){return this.visFilters.findIndex((function(e){return e.type==t}))>-1},e.removeFilter=function(t){var e=this.visFilters.findIndex((function(e){return e.type==t}));this.visFilters.splice(e,1)},e.updateVisible=function(){var t,e,n=this,s=[];Object.entries(this.techList).forEach((function(t){t[0];var e=t[1];n.visFilters.every((function(t){switch(t.type){case"prereqs":if(0==t.args.count&&(!e.prerequisites||0==e.prerequisites.count))return!0;return e.prerequisites.reduce((function(t,e){return n.techList[e]||console.log(e),t+!n.techList[e].researched}),0)==t.args.count;case"byPack":return e.cost.ingredients.some((function(e){var n=e[0];e[1];return n==t.args.pack}));case"complete":return!e.researched}return!1}))&&s.push(e)})),this.shownTechs=s,null==(t=this.mgrs)||null==(e=t.signaler)||e.signal("techUpdate")},e.toggleFilter=function(t,e){switch(t){case"complete":this.hasFilter("complete")?(this.removeFilter("complete"),this.filters.ShowComplete=!1):(this.applyFilter("complete",{}),this.filters.ShowComplete=!0);break;case"byPack":this.filters.ShowPack[e]=!this.filters.ShowPack[e]}this.updateVisible()},t}())||s,o=function(t,e){Object.assign(this,t),this.completeUnits=(null==e?void 0:e.completeUnits)||0,this.researched=!1,(null==e?void 0:e.researched)&&(this.researched=!0,this.unlocks.forEach((function(t){return a.a.rec.recipeList[t]&&(a.a.rec.recipeList[t].enabled=!0)})))}},Evr9:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("+Aae"),i=n("EVdn"),r=n.n(i),a=[0,.1,.9,1,1.1,1.2,2,2.1,2.2,2.3,2.4,3,3.1,3.2,3.21,3.3,3.4,3.5,10];window.jq=r.a,console.log(r()().jquery);var c=new(function(){function t(){this.atStep=0,this.tutClicks=0}var e=t.prototype;return e.start=function(){var t=this;r()("#tutorial").addClass("Block"),r()("#tut_button").click((function(){t.nextStep()})),this.setStep(a[this.atStep])},e.nextStep=function(){var t=this;r()(".tutStep").removeClass("tutStep").off("click"),r()("#tut_button").hide(),r()("#tut_text").text(""),setTimeout((function(){t.setStep(a[++t.atStep])}),10)},e.setStep=function(t){var e=this;switch(console.log("running step: "+t),t){case 0:r()("#tut_text").text("The Factory Must Grow"),r()("#tut_button").text("Let's build it").show();break;case.1:r()("#tut_text").text("This alpha is about the mechanics, most everything else is slated to be improved"),r()("#tut_button").text("I won't judge!").show();break;case.9:r()("#resources").addClass("tutStep"),r()("#tut_text").text("You can mine (click) these by hand"),r()("#tut_button").text("Got it").show();break;case 1:s.a.Ticker.resume(),r()("#resources icon-base[title='stone']").addClass("tutStep"),r()("#tut_text").text("Mine 5 stone"),this.playerInvWait({name:"stone",count:5});break;case 1.1:r()("#tut_text").text("Machines will be used for the bulk of your production."),r()("#tut_button").text("Which are the machines?").show();break;case 1.2:r()("#tut_text").text("Machines have a red 'E' at the bottom of their icon"),r()("#tut_button").text("So many options").show();break;case 2:r()("#tut_text").text("Now build a furnace to melt metal to plates"),r()("#recipes icon-base[title='stone-furnace']").addClass("tutStep"),this.playerInvWait({name:"stone-furnace",count:1});break;case 2.1:r()("#tut_text").text("Clicking on the furnace in your inventory will add it to your production machines"),r()("#inventoryList icon-base[title='stone-furnace']").addClass("tutStep"),this.setTutClick();break;case 2.2:r()("#playerControls h4:contains('Machina')").addClass("tutStep"),r()("#facBlockControls h5:contains('Manufacturing')").addClass("tutStep"),s.a.baseApp.when({entityPane:"manuf"},(function(){e.nextStep()}));break;case 2.3:r()("#machines .entityList icon-base[title='stone-furnace']").addClass("tutStep"),this.setTutClick();break;case 2.4:r()("#tut_text").text("For your machines, you must set a recipe.\nLets start with iron plates"),r()("crafting-infopane icon-base[title='iron-plate']").addClass("tutStep"),this.setTutClick();break;case 3:r()("#tut_text").text("Now let's mine some iron"),r()("#playerControls h4:contains('Home')").addClass("tutStep"),this.setTutClick();break;case 3.1:r()("#resources icon-base[title='iron-ore']").addClass("tutStep"),this.playerInvWait({name:"iron-ore",count:5});break;case 3.2:r()("#tut_text").text("Good, let's turn that ore into plates!"),r()("#tut_button").text("Back to my furnace I go").show();break;case 3.21:r()("#tutorial").hide(),s.a.baseApp.when({entityPane:"manuf"},(function(){e.nextStep()}));break;case 3.3:r()("crafting-infopane .showRecipe icon-base[title='iron-ore']").addClass("tutStep"),this.setTutClick(5);break;case 3.4:r()("#tutorial").show(),r()("#tut_text").text("Now watch your furnace produce the plates"),r()("#tut_button").text("At least it's faster than paint drying").show();break;case 3.5:r()("crafting-infopane .showRecipe icon-base[title='iron-plate']").addClass("tutStep"),this.playerInvWait({name:"iron-plate",count:5});break;case 10:r()("#tut_text").text("End of tutorial...so far"),r()("#tut_button").text("But now what...?").show();break;default:r()("#tutorial").hide(),console.log("default, reset")}},e.setTutClick=function(t){var e=this;void 0===t&&(t=0),this.tutClicks=t,r()(".tutStep").click((function(){--e.tutClicks>0?console.log("not there yet"):e.nextStep()}))},e.playerInvWait=function(t){var e=this;s.a.baseApp.player.inv.when(t,(function(){return e.nextStep()}))},e.runStep=function(t){t.block?r()(".tutorial").addClass("Block"):r()(".tutorial").removeClass("Block"),r()(t.highlight).css("z-index",2e3)},t}());s.a.tut=c},KeMc:function(t,e,n){"use strict";function s(t,e,n,s,i,r,a){try{var c=t[r](a),o=c.value}catch(t){return void n(t)}c.done?e(o):Promise.resolve(o).then(s,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function c(t){s(a,i,r,c,o,"next",t)}function o(t){s(a,i,r,c,o,"throw",t)}c(void 0)}))}}function r(t){return a.apply(this,arguments)}function a(){return(a=i(regeneratorRuntime.mark((function t(e){var n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=location.search.split("=")[1]){t.next=3;break}return t.abrupt("return");case 3:s=!0,t.t0=n,t.next="setDev"===t.t0?7:"unsetDev"===t.t0?10:"resetSave"===t.t0?13:"resetDS"===t.t0?16:19;break;case 7:return t.next=9,e.idb.set("dev",!0);case 9:return t.abrupt("break",20);case 10:return t.next=12,e.idb.set("dev",!1);case 12:return t.abrupt("break",20);case 13:return t.next=15,e.baseApp.resetSave();case 15:return t.abrupt("break",20);case 16:return t.next=18,e.idb.del("last_ds");case 18:return t.abrupt("break",20);case 19:s=!1;case 20:s&&(location.href=location.href.slice(0,location.href.lastIndexOf("/")+1)),t.t1=n,t.next="jumpStart"===t.t1?25:"testing"===t.t1?28:31;break;case 25:return e.baseApp.showTut=!1,e.baseApp.jumpStart(),t.abrupt("break",31);case 28:return e.baseApp.showTut=!1,e.baseApp.testing(),t.abrupt("break",31);case 31:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n.d(e,"a",(function(){return r}))}}]);
//# sourceMappingURL=app~19ccdd99.e5b6f80e5686521cd697.bundle.map