<template>
  <require from="../value-converters/lib/ObjectFilters"></require>
  <require from="./icon-base"></require>
  <div show.bind="display" class="toolTip">
    <div if.bind="display.type=='recipe'">
      <h5>${display.name}</h5>
      <icon-base repeat.for="ing of display.ingredients | objectValues" item.bind="ing.name" count.bind="ing.amount" click.delegate="showRec(ing.name)"></icon-base>
      =>
      <icon-base repeat.for="result of display.results | objectValues" item.bind="result.name" count.bind="result.amount"></icon-base>
    </div>
    <div if.bind="display.type=='technology'">
      <h5>${display.name}</h5>
      <icon-base repeat.for="unit of display.cost.ingredients" item.bind="unit[0]"></icon-base>
      x${display.cost.count - global.research[display.name].completeUnits}
      <p>
        <icon-base repeat.for="unlock of display.unlocks" item.bind="unlock" show-name.bind="true"></icon-base>
      </p>
    </div>
    <div if.bind="display.tool=='stackArray'">
      <h5 class="d-inline">${display.tip}:</h5>
      <icon-base
        repeat.for="item of display.list"
        item.bind="item.name"
        show-name.bind="true"
        required.bind="item.count"
        class="pr-5"
      ></icon-base>
    </div>
    <div if.bind="display.tool=='blockCosts'">
      <h5 class="d-inline">${display.tip}:</h5>
      <div class="stackedText">
        <span>Land: ${display.landCost}</span><br>
        <span>Complexity: +${display.complexity}</span>
      </div>
      <icon-base
        repeat.for="item of display.list"
        item.bind="item.name"
        show-name.bind="true"
        required.bind="item.count"
        class="pr-5"
      ></icon-base>
    </div>
  </div>
</template>
