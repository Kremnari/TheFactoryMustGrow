<template>
  <scope-var var.bind="$scope = {lab: viewPane.showingItem}"
  <require from="./upgrades-infopane"></require>
  <p>
    Max Buffer: ${$scope.lab.buffers.max_in}
  </p>
  <div
    class="labInput progressBarBase"
    css="border-image-source: linear-gradient(to right, green ${$scope.lab.progress}%, red ${$scope.lab.progress}%)"
  >
    <icon-base
      repeat.for="input of $scope.lab.inputs"
      item.bind="input"
      count.bind="$scope.lab.buffers.in.items[$index].count"
      Xclass="${$scope.lab.canAdd(input) ? 'fillable': ''}"
      click.delegate="CCC.issue('entity.bufferFill', {'which.buffer': $scope.lab.buffers.in, 'item.buffer': $scope.lab.buffers.in.items[$index]}, $event)"
      Xclick.delegate="$scope.lab.addPotion(input, rounder)"
      title="Click to add ${input}"
    ></icon-base>
  </div>
  <compose  view="resources/elements/byModule/upgrades-infopane.html"></compose>
</template>
