<template>
  <icon-base
    repeat.for="item of view.Fn.playerInventory() & signal:'generalUpdate'"
    item.bind="item"
    if.bind="item.filtered || item.count>0"
    count.bind="item.count"
    modis.bind="{count: item.count}"
    metas.bind="{showEntity: true}"
    click.delegate="CCC.issue('player.inventoryPush', {
      'which.itemStack': item,
      'to.entities': globals.player.workshop.entities
    })"
    mouseenter.trigger="view.set({type: 'scope', which: 'tooltip', what: {tool: 'recipe/entity', item: mgrs.data.entity[item.name], rec: mgrs.data.recipe[item.name]}})"
    mouseleave.trigger="view.unset({which: 'tooltip'})"
  ></icon-base>
</template>
